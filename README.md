# unity-scenedump-xml-project
Example Unity project for my Unity Editor extension to generate XML representation of Scene hierarchy

## IMPORTANT

The editor extension you're interested in is actually a Git submodule. When you check out THIS repository, make sure you add the **--recursive** flag so Git will check out the editor extension *itself:*

`git clone --recursive https://github.com/jskubick/unity-scenedump-xml-project.git`




# Help!

### I cloned this repo, but the Assets/Editor/ directory is empty!

Oops. You forgot to include the --recursive flag when performing the `git clone` earlier. No worries, here's how to fix it:

1. cd to the Unity project's root folder (the one containing the Assets directory)

2. execute `git submodule update --init --recursive`

### I have an existing Unity project. I want to use the extension with it.

("$/" refers to your Unity project's root directory)

1. Create $/Assets/Editor if it doesn't already exist

2. cd to $Assets/Editor

3. execute `git submodule add https://github.com/jskubick/unity-scenedump-xml.git unity-scenedump-xml`

4. If $/Assets/Editor/unity-scenedump-xml is still empty, execute `git submodule update --init --recursive`

### I got `DirectoryNotFoundException` when I tried to run it

You need to edit OUTPUT_FILE in XmlSceneDumper.cs

### I want to enhance the extension

If you've looked at the repository with the actual .cs files for the editor extension, you've probably noticed that it's just the source files (no Visual Studio .sln or other files of that type). That's because it's just assumed that you're going to be working on them in the context of an actual Unity project (which dynamically (re)generates the files for Visual Studio in the background). I couldn't even begin to tell you how to build the editor extension's submodule independently of Unity and Visual Studio. I don't know whether it's even meaningfully *possible* to build it independently of Unity and Visual Studio, because the extension literally has no *purpose* aside from running inside Unity.

### I want to report a bug

Please make sure the bug manifests itself when generating XML from this example project's scene... or at the VERY least, post a URL where I can download the same Unity project you're looking at. Feel free to fork this project, update the Unity project so that the bug manifests, and submit a pull request. The example project is literally something I threw together in 15 minutes for the sake of having a consistent testbed to generate XML against.

### The XML generated by this extension is AWFUL to work with.

My apologies. If you can think of any concrete structural improvements that will make it easier to parse with your favorite framework or app, please let me know. 


### What WERE you thinking about when you came up with the Schema?

Honestly, there never really WAS a formal schema. This started out as a library to generate compact, human-readable output that nevertheless happened to be structurally-valid XML, and mutated into something capable of generating more full-bodied XML.

All things being equal, for XML that will be read primarily by humans, I tend to prefer attributes over elements, and grouping related information together on a single line. You can see this in the way I handled Transform properties. If you tell the extension to render Transform values as properties, it puts them right in the GameObject tag itself (since by definition every GameObject MUST have exactly one Transform, and a Transform can't exist independently of a GameObject).


### What can I configure?

If you look at XmlSceneDumper.cs, you can see some of the options that you can play with to get compact, concise XML primarily for human consumption ("terse"), or expansive XML that should be easier to parse using off the shelf tools.

For now, the extension has no formal UI of its own. You have to hardcode the XML output path fileame and options into XmlSceneDumper.cs directly. I don't think that's a particularly burdensome requirement. Technically, you don't even HAVE to alter XmlSceneDumper.cs itself... you can create your own class, define it to use any menu structure you like, and execute its logic yourself. Basically, there are just three steps:

1. Instantiate an XmlSceneDumperOptions object, and set any values you want if the defaults don't satisfy your needs. 

2. Instantiate an XmlSceneHierarchy object, and call its .parse() method to build the XML document.

3. Do whatever you like with its document. XmlSceneDumper.cs writes it using a StreamWriter, but that's just a quick & dirty suggestion. 